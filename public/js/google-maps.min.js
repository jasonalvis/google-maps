/*!
 * Name: Google Maps
 * Author: Jason Alvis
 * Author URI: http://jasonalvis.co.uk
 * Description: Google Maps JavaScript Plugin
 * Version: 0.0.1
 */
!function(e,o){"function"==typeof define&&define.amd?define([],o(e)):"object"==typeof exports?module.exports=o(e):e.GoogleMaps=o(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function o(e,o){this.element=e,this.options=t(n,o||{}),this.element&&this.options.locations&&this.init()}var n={locations:null,mapOptions:null,styles:null,scrollwheelMouseDown:!1,resize:!1},t=function(e,o){var n,t={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t};return o.prototype.init=function(){var e=this,o=e.options,n=o.locations;if(o.mapOptions?"HYBRID"===o.mapOptions.mapTypeId?o.mapOptions.mapTypeId=google.maps.MapTypeId.HYBRID:"SATELLITE"===o.mapOptions.mapTypeId?o.mapOptions.mapTypeId=google.maps.MapTypeId.SATELLITE:"TERRAIN"===o.mapOptions.mapTypeId?o.mapOptions.mapTypeId=google.maps.MapTypeId.TERRAIN:o.mapOptions.mapTypeId=google.maps.MapTypeId.ROADMAP:(o.mapOptions={},o.mapOptions.mapTypeId=google.maps.MapTypeId.ROADMAP),n.length>1)var t=new google.maps.LatLngBounds;else o.mapOptions.center=new google.maps.LatLng(n[0].latLng[0],n[0].latLng[1]);e.map=new google.maps.Map(e.element,o.mapOptions),o.styles&&e.map.setOptions({styles:o.styles}),n.forEach(function(o){var a=null;o.marker&&o.markerSize&&o.markerOrigin&&o.markerAnchor&&(a={url:o.marker,size:new google.maps.Size(o.markerSize[0],o.markerSize[1]),origin:new google.maps.Point(o.markerOrigin[0],o.markerOrigin[1]),anchor:new google.maps.Point(o.markerAnchor[0],o.markerAnchor[1])},o.markerSizeScaled&&(a.markerSizeScaled=new google.maps.Size(o.markerSizeScaled[0],o.markerSizeScaled[1])));var p=new google.maps.Marker({position:new google.maps.LatLng(o.latLng[0],o.latLng[1]),map:e.map,icon:a});if(o.markerContent){var i=new google.maps.InfoWindow({content:o.markerContent});p.addListener("click",function(){i.open(e.map,p)})}n.length>1&&t.extend(p.position)}),n.length>1&&e.map.fitBounds(t),o.scrollwheelMouseDown&&e.scrollwheelMouseDown(),o.resize&&e.resize()},o.prototype.scrollwheelMouseDown=function(){var e=this;e.disableScrollwheel(),google.maps.event.addListener(e.map,"mousedown",function(){e.enableScrollwheel()}),window.addEventListener("scroll",function(){e.disableScrollwheel()})},o.prototype.enableScrollwheel=function(){this.options.mapOptions.scrollwheel||(this.map.setOptions({scrollwheel:!0}),this.options.mapOptions.scrollwheel=!0)},o.prototype.disableScrollwheel=function(){this.options.mapOptions.scrollwheel&&(this.map.setOptions({scrollwheel:!1}),this.options.mapOptions.scrollwheel=!1)},o.prototype.resize=function(){var e=this,o=e.options.locations;if(o.length>1){var n=new google.maps.LatLngBounds;o.forEach(function(e){n.extend(new google.maps.LatLng(e.latLng[0],e.latLng[1]))}),google.maps.event.addDomListener(window,"resize",function(){e.map.fitBounds(n)})}else{var t;google.maps.event.addDomListener(e.map,"idle",function(){t=e.map.getCenter()}),google.maps.event.addDomListener(window,"resize",function(){e.map.setCenter(t)})}},o});